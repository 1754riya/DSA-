class Solution {
  public:
  bool isLeaf(Node*node){
      return (node->left==NULL) && (node->right==NULL);
  }
  void leftBoundary(Node*root,vector<int>&result){
      if(root==NULL) return;
      Node*curr=root->left;
      while(curr){
          if(!isLeaf(curr)) result.push_back(curr->data);
          if(curr->left) curr=curr->left;
          else curr=curr->right;
      }
  }
  void rightBoundary(Node*root,vector<int>&result){
      Node*curr=root->right;
      vector<int>temp;
      while(curr){
          if(!isLeaf(curr)) temp.push_back(curr->data);
          if(curr->right) curr=curr->right;
          else curr=curr->left;
      }
      for(int i=temp.size()-1;i>=0;i--){
          result.push_back(temp[i]);
      }
  }
  void leafNodes(Node*root,vector<int>&result){
      if (root == NULL) return;
      if(isLeaf(root)){ 
      result.push_back(root->data);
      return;}
      if(root->left)  leafNodes(root->left,result);
      if(root->right) leafNodes(root->right,result);
  }
  
    vector<int> boundaryTraversal(Node *root) {
       vector<int>result;
       if(!root) return result;
       if(!isLeaf(root)) result.push_back(root->data);
       leftBoundary(root,result);
       leafNodes(root,result);
       rightBoundary(root,result);
       
       return result;
        
    }
};
